name: UnitySwiftProtobuf
options:
  bundleIdPrefix: com.unity3d.ads
  createIntermediateGroups: true
  deploymentTarget:
    iOS: 10.0

targets: 
  UnitySwiftProtobuf:
    type: framework
    sources: 
     - path: "SourceCode" 
       excludes:
          - "Info.plist"
    settings:
      SKIP_INSTALL: NO
      PRODUCT_NAME: "UnitySwiftProtobuf"
      MACH_O_TYPE: staticlib
      BUILD_LIBRARY_FOR_DISTRIBUTION: YES
      DEFINES_MODULE: YES
      CLANG_ENABLE_MODULES: YES
      GENERATE_MASTER_OBJECT_FILE: YES
    templates: [CommonTemplate, FrameworkTemplate]
    # templateAttributes:
    #   test_target: ''


targetTemplates:
  CommonTemplate:
    platform: iOS       
    PRODUCT_BUNDLE_IDENTIFIER: ${bundleIdPrefix}$.{target_name}
    
  # FrameworkPaths:
  #   settings:
  #     HEADER_SEARCH_PATHS: 
  #       - $(inherited)
  #       - $(SRCROOT)/Public/SourceCode/Public/**
  #     FRAMEWORK_SEARCH_PATHS: 
  #       - $(SRCROOT)/build/**
  #       - $(inherited)

  FrameworkTemplate:
    scheme:
      - name: ${target_name}
      # - testTargets: 
      #   - ${test_target} 



    # settings: 
    #   SWIFT_OBJC_BRIDGING_HEADER: "Public/Tests/UnityAdsTests-Bridging-Header.h"